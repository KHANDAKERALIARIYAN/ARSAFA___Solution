{% extends 'accounts/base.html' %}

{% block content %}
<!-- Page-specific styles -->
<style>
  /* Set a subtle gradient background and minimum height */
  body {
    background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
    min-height: 100vh;
  }
</style>

<!-- Header section with page title and Add Note button -->
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="display-4 fw-bold text-dark">Notes</h1>
  <!-- Link to the note creation page -->
  <a href="{% url 'note_create' %}" class="btn btn-primary">Add Note</a>
</div>

<!-- Subtitle or description below the header -->
<div>
  <p>Secure your thoughts before they escape</p>
</div>

<!-- Notes table -->
<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Title</th>        <!-- Note title -->
      <th>Created</th>      <!-- Date and time note was created -->
      <th>Updated</th>      <!-- Date and time note was last updated -->
      <th>Actions</th>      <!-- Buttons for View, Edit, Delete -->
    </tr>
  </thead>
  <tbody>
    <!-- Loop through all notes passed to the template -->
    {% for note in notes %}
      <tr>
        <!-- Display note title -->
        <td>{{ note.title }}</td>
        <!-- Format and display creation timestamp -->
        <td>{{ note.created_at|date:'Y-m-d H:i' }}</td>
        <!-- Format and display updated timestamp -->
        <td>{{ note.updated_at|date:'Y-m-d H:i' }}</td>
        <td>
          <!-- View note detail button -->
          <a href="{% url 'note_detail' note.pk %}" class="btn btn-sm btn-info" title="View">
            <i class="fas fa-eye"></i>
          </a>
          <!-- Edit note button -->
          <a href="{% url 'note_update' note.pk %}" class="btn btn-sm btn-warning" title="Edit">
            <i class="fas fa-edit"></i>
          </a>
          <!-- Delete note button -->
          <a href="{% url 'note_delete' note.pk %}" class="btn btn-sm btn-danger" title="Delete">
            <i class="fas fa-trash-alt"></i>
          </a>
        </td>
      </tr>
    {% empty %}
      <!-- Show this row if no notes exist -->
      <tr>
        <td colspan="4">No notes yet.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
